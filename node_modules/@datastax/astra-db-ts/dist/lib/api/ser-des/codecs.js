"use strict";
// Copyright Datastax, Inc
// SPDX-License-Identifier: Apache-2.0
Object.defineProperty(exports, "__esModule", { value: true });
exports.initCodecs = void 0;
const initCodecs = (chs) => {
    const codecs = { name: {}, path: [], type: {}, classGuard: [], customGuard: [] };
    const rawCodecs = chs.map(ch => ch.get);
    for (const codec of rawCodecs) {
        switch (codec.codecType) {
            case 'name':
                codecs.name[codec.name] = codec;
                break;
            case 'path':
                codecs.path.push(codec);
                break;
            case 'type':
                codecs.type[codec.type] = codec;
                if ('serializeClass' in codec) {
                    codecs.classGuard.push(codec);
                }
                else if ('serializeGuard' in codec) {
                    codecs.customGuard.push(codec);
                }
                break;
        }
    }
    return codecs;
};
exports.initCodecs = initCodecs;
