import { SomeRow } from '../../../documents';
import { CreateTableColumnDefinitions, VectorizeServiceOptions } from '../../../db';
import { WithTimeout } from '../../../lib';
/**
 * Options for altering a table.
 *
 * @public
 */
export interface AlterTableOptions<Schema extends SomeRow> extends WithTimeout<'tableAdminTimeoutMs'> {
    /**
     * The operations to perform on the table. Must pick just one of `add`, `drop`, `addVectorize`, or `dropVectorize`.
     */
    operation: AlterTableOperations<Schema>;
}
/**
 * The possible alterations that may be performed on the table. Only one out of the four may be used at a time.
 *
 * @public
 */
export interface AlterTableOperations<Schema extends SomeRow> {
    add?: AddColumnOperation;
    drop?: DropColumnOperation<Schema>;
    addVectorize?: AddVectorizeOperation<Schema>;
    dropVectorize?: DropVectorizeOperation<Schema>;
}
/**
 * An operation to add columns to the table.
 *
 * @public
 */
export interface AddColumnOperation {
    /**
     * The columns to add to the table, of the same format as in `createTable`
     */
    columns: CreateTableColumnDefinitions;
}
/**
 * An operation to drop columns from the table.
 *
 * @public
 */
export interface DropColumnOperation<Schema extends SomeRow> {
    /**
     * The columns to drop from the table.
     */
    columns: (keyof Schema)[];
}
/**
 * An operation to enable vectorize (auto-embedding-generation) on existing vector columns on the table.
 *
 * @public
 */
export interface AddVectorizeOperation<Schema extends SomeRow> {
    /**
     * The options for vectorize-ing each column.
     */
    columns: Partial<Record<keyof Schema, VectorizeServiceOptions>>;
}
/**
 * An operation to disable vectorize (auto-embedding-generation) on existing vector columns on the table.
 *
 * @public
 */
export interface DropVectorizeOperation<Schema extends SomeRow> {
    /**
     * The columns to disable vectorize on.
     */
    columns: (keyof Schema)[];
}
